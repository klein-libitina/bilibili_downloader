# 快速开始指南

## 一键安装（Windows）

### 步骤1: 安装Python依赖
```bash
pip install -r requirements.txt
```

### 步骤2: 安装FFmpeg

**方法1 - 使用Chocolatey（推荐）:**
```bash
choco install ffmpeg
```

**方法2 - 手动安装:**
1. 访问 https://github.com/BtbN/FFmpeg-Builds/releases
2. 下载 `ffmpeg-master-latest-win64-gpl.zip`
3. 解压到任意文件夹，例如 `C:\ffmpeg`
4. 将 `C:\ffmpeg\bin` 添加到系统PATH

**添加到PATH的步骤:**
1. 右键"此电脑" → "属性"
2. "高级系统设置" → "环境变量"
3. 在"系统变量"中找到"Path"，点击"编辑"
4. 点击"新建"，输入 `C:\ffmpeg\bin`
5. 确定保存

### 步骤3: 验证安装
```bash
ffmpeg -version
```

如果显示版本信息，说明安装成功！

### 步骤4: 运行程序
```bash
python main.py
```

## 功能速览

### 🎯 基础下载
1. 输入视频URL
2. 点击"获取视频信息"
3. 选择清晰度和音质
4. 点击"开始下载"

### 🔐 登录下载高清
1. 点击"扫码登录"
2. 使用B站APP扫码
3. 登录后可下载4K/8K和Hi-Res音频

**💡 智能保持登录:**
- 登录后自动保存状态（30天有效）
- 下次启动时IP未变化则自动登录
- 点击"退出登录"可清除保存的状态

### 🎵 下载音频（多种格式）
1. 选择"仅音频"
2. 选择音质（推荐Hi-Res无损）
3. 选择格式（Hi-Res会自动推荐FLAC）
4. 开始下载

**格式推荐:**
- Hi-Res无损 → **FLAC** (自动选择)
- 提取BGM → **MP3**
- 苹果设备 → **M4A**
- 无损音质 → **WAV/FLAC**

### 📹 分离下载
- **仅视频**: 下载视频流（无声音）
- **仅音频**: 下载音频流
- **合并**: 下载后自动合并（推荐）

## 支持的清晰度

| 清晰度 | 需要登录 | 说明 |
|--------|---------|------|
| 8K超高清 | ✅ | 最高画质 |
| 4K超清 | ✅ | 超清画质 |
| 杜比视界 | ✅ | HDR效果 |
| 1080P 60帧 | ✅ | 高帧率 |
| 1080P | ✅ | 标准高清 |
| 720P 60帧 | ❌ | 高帧率标清 |
| 720P | ❌ | 标清 |
| 480P/360P | ❌ | 流畅播放 |

## 支持的音质

| 音质 | 需要登录 | 比特率 |
|------|---------|--------|
| Hi-Res无损 ⭐ | ✅ | 无损 |
| 320K极高 | ❌ | 320kbps |
| 128K高清 | ❌ | 128kbps |
| 64K流畅 | ❌ | 64kbps |

## 支持的格式

### 视频格式
| 格式 | 兼容性 | 推荐场景 |
|------|--------|---------|
| MP4 | 最佳 | 所有设备（推荐） |
| FLV | 良好 | B站原始格式 |

### 音频格式
| 格式 | 音质 | 文件大小 | 推荐场景 |
|------|------|---------|---------|
| FLAC ⭐ | 无损 | 大 | Hi-Res音频（自动推荐） |
| WAV | 无损 | 很大 | 专业音频处理 |
| MP3 | 有损 | 小 | 通用兼容（推荐） |
| M4A | 有损 | 小 | 苹果设备 |
| AAC | 有损 | 很小 | 高效压缩 |

## 常用命令

```bash
# 安装依赖
pip install -r requirements.txt

# 运行程序
python main.py

# 检查ffmpeg
ffmpeg -version

# 更新依赖
pip install --upgrade -r requirements.txt
```

## 故障排除

### ❌ 找不到ffmpeg
**解决方法**: 确保ffmpeg已安装并在PATH中
```bash
# Windows - 检查PATH
echo %PATH%

# 临时添加到PATH
set PATH=%PATH%;C:\ffmpeg\bin
```

### ❌ 无法登录
**解决方法**:
- 检查网络连接
- 使用最新版B站APP扫码
- 重新生成二维码

### ❌ 下载失败
**解决方法**:
- 检查视频是否可用
- 尝试较低清晰度
- 确认已登录（高清内容）

### ❌ 音视频不同步
**解决方法**:
- 更新ffmpeg到最新版本
- 使用MP4格式输出

## 技巧提示

💡 **下载速度优化**
- 避开高峰时段（晚上8-11点）
- 使用有线网络而非WiFi
- 选择较低清晰度可提速

💡 **节省空间**
- 仅下载音频（提取BGM）
- 使用720P而非4K
- 选择MP3格式（比FLAC小很多）
- 选择64K-128K音质（足够清晰）

💡 **最佳体验**
- 登录账号获取完整选项
- 选择1080P 60帧（流畅+高清）
- 使用MP4格式（兼容性最好）

💡 **音频格式选择**
- Hi-Res无损音乐 → **FLAC**（程序自动推荐）
- 日常听歌 → **MP3**（通用兼容）
- iPhone/iPad → **M4A**（苹果生态）
- 专业编辑 → **WAV**（完全无损）

---

**遇到问题？** 请查看完整的 [README.md](README.md)
